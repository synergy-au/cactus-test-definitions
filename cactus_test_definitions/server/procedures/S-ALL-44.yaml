Description: Scheduling
Category: Control
Classes:
 - A

TargetVersions:
 - v1.2

Preconditions:
  required_clients:
    - id: client
  
Steps:
  - id: (A) PRECONDITION
    repeat_until_pass: true
    client: client
    instructions:
      - The utility server is configured to generate a schedule of 24 sequential, non-overlapping controls with a range of export and/or import limits, each with 1min duration.
    action: 
      type: discovery
      parameters:
        resources:
          - EndDevice
          - DERControl
    checks:
      - type: der-control
        parameters:
          minimum_count: 24
          opModExpLimW: $(setMaxW * 2)
          opModImpLimW: $(setMaxW)
          event_status: 0 # Scheduled (will ensure non overlapping , superseeded)
          duration: 60
  
  - id: (1) DERControlQuery
    client: client
    action: 
      type: discovery
      parameters:
        list_limit: 10  # sets s=0, l=10 for paging
        resources:
          - DERControl
    checks:
      - type: der-control
        parameters:
          minimum_count: 10
          maximum_count: 10
          opModExpLimW: $(setMaxW * 2)
          opModImpLimW: $(setMaxW)
          event_status: 0
          duration: 60
  